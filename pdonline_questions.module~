<?php

//hook_menu
function pdonline_questions_init()
{

}

function pdonline_questions_menu()
{
	$items = array();
	$items['questions'] = array
	(
		'title' => 'Questions',
		'description' => 'Answer all the questions',
		'page callback' => 'drupal_get_form',
		'page arguments' => array('questions_form'),
		'access callback' => 'user_access',
		'access arguments' => array('access content'),
		'type' => MENU_NORMAL_ITEM
	);
	return $items;
}

function questions_form()
{
	$oneN = rand(1,100);
	$twoN = rand(1,10);
	$threeN = rand(1,100);
	$fourN = rand(1,5);
	$fourC = chr(rand(97,122));
	$fiveN = rand(1,5);
	getOneYX($oneX, $oneY);
	$form = array();
	$form['divisible'] = array
	(
		'#type' => 'textfield',
		'#title' => '1) Is '.$oneN.' divisble by '.$oneX.' , '.$oneY.' , both or neither? <br/>
				<ul>			
					<li>If '.$oneX.' : Input "P"</li>
					<li>If '.$oneY.' : Input "D"</li>
					<li>If both: Input "PDOnline"</li>
					<li>If neither: Input n </li>
				</ul>'
	);

	$form['factorial'] = array
	(
		'#type' => 'textfield',
		'#title' => '2) What is '.$twoN.' factorial? '
	);

	$form['bits'] = array
	(
		'#type' => 'textfield',
		'#title' => '3) How many bits are set in the binary conversion of '.$threeN
	);

	$form['words'] = array
	(
		'#type' => 'textfield',
		'#title' => '4) Write '.$fourN.' words containing the character "'.$fourC.'"'
	);

	$form['html'] = array
	(
		'#type' => 'textarea',
		'#title' => '5) Write some HTML with the word "PDOnline" nested '.$fiveN.' levels deep '
	);


	$form['submit'] = array
	(
		'#type' => 'submit',
		'#value' => 'Submit'
	);

	$form['#submit'][] = 'pdonline_questions_submit';

	return $form;
}


function pdonline_questions_submit($form, &$form_state)
{
	drupal_set_message("It worked");
}

function getOneYX(&$oneX, &$oneY)
{
	do
	{
		$oneX = rand(2,5);
		$oneY = rand(2,5);
	}while($oneX === $oneY);
}


